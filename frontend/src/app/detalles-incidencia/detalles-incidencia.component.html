<div class="container">
  <!-- Barra de navegaci贸n simplificada -->
  <div class="nav-bar">
    <div class="nav-left">
      <button (click)="goBack()" class="nav-button" title="Volver"><i class="fas fa-arrow-left"></i></button>
    </div>
    <div class="nav-right">
      <button (click)="exportarIncidencia(incidencia)" class="nav-button" title="Exportar"><i class="fas fa-download"></i></button>
      <button (click)="importarIncidencia()" class="nav-button" title="Importar"><i class="fas fa-upload"></i></button>
    </div>
  </div>

  <!-- Mapa -->
  <div class="map">
    <app-map></app-map>
  </div>

  <!-- Detalles de la incidencia -->
  <div class="card">
    <div class="card-header">
      <h2>Detalles de la Incidencia</h2>
    </div>
    <div class="card-content">
      <div class="details-grid">
        <div class="details-column">
          <div class="detail-item">
            <div class="detail-item">
              <h3>Instalaci贸n</h3>
              <p>{{incidencia.instalacion}}</p>
            </div>
            <h3>Elemento</h3>
            <p>{{incidencia.elemento}}</p>
          </div>
          <div class="detail-item">
            <h3>Ubicaci贸n</h3>
            <p>{{incidencia.ubicacion}}</p>
          </div>
        </div>
        <div class="details-column">
          <div class="detail-item">
            <h3>Disciplina</h3>
            <p>{{incidencia.tipo}}</p>
          </div>
          <div class="detail-item">
            <h3>Estado</h3>
            <p [ngClass]="getEstadoClass(incidencia.estado)">{{incidencia.estado}}</p>
          </div>
          <div class="detail-item">
            <h3>Fecha</h3>
            <p>{{incidencia.fecha}}</p>
          </div>
        </div>
      </div>

      <div class="detail-item">
        <h3>Observaciones</h3>
        <div class="observation-box">
          <p>{{getObservacionesTexto()}}</p>
        </div>
      </div>

      <div class="detail-item">
        <h3>Fotos</h3>
        <div class="photos-box">
          <img [src]="getFotoUrl()" alt="Foto de la incidencia" (error)="fotoError=true">
          <p *ngIf="fotoError">No hay fotos para esta incidencia</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Botones de acci贸n -->
  <div class="actions">
    <button class="btn-outline" (click)="goBack()">Cancelar</button>
    <button (click)="editarIncidencia(incidencia)" class="boton-editar">Editar incidencia</button>
  </div>
</div>
